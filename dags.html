<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
  <title>Bar chart with D3.js</title>
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="styles/da.css">
  <script src="https://d3js.org/d3.v5.min.js"></script>
<!--   <script src="https://d3js.org/d3-color.v1.min.js"></script>
  <script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
  <script src="https://d3js.org/d3-ease.v1.min.js"></script>
  <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
  <script src="https://d3js.org/d3-selection.v1.min.js"></script>
  <script src="https://d3js.org/d3-timer.v1.min.js"></script>
  <script src="https://d3js.org/d3-transition.v1.min.js"></script> -->

  <!-- <script src="js/da.js"></script> -->
</head>
<body>
  <div id='layout'>
    <h2>Bar chart example</h2>
    <div class='container'>
      <svg class="chart" height="500" width="1000"/>
    </div>
  </div> 
<p>Why this is not working?? </p>
</body>
  <script>
var data = [2,10,3,4,5,6,7,8,9,1];
var svg = d3.select("svg");
    console.log();
    svg.selectAll("*").remove();
    var margin=50,
        width=svg.attr("width")-margin,
        height=svg.attr("height")-margin;
    var Xscale = d3.scaleBand()
                  .domain(data.map((e,i) => i+1))
                  .range([0, width])
                  .padding(0.2);
    var Yscale=d3.scaleLinear()
                  .domain([0,d3.max(data)])
                 .range([height,0]);  
    var g=svg.append("g")
              .attr("transform","translate("+margin+","+margin+")");  
         g.append("g")
         .attr("transform", "translate(0," + height + ")")
         .call(d3.axisBottom(Xscale).tickFormat(function(d){
                    return d;
                }).ticks(data.length))
         ;

        g.append("g")
         .call(d3.axisLeft(Yscale).tickFormat(function(d){
             return d;
         }).ticks(10))
         .append("text")
         .attr("y", 6)
         .attr("dy", "0.71em")
         .attr("text-anchor", "end")
         .text("value");


        g.selectAll(".bar")
         .data(data)
         .enter().append("rect")
         .attr("class", "bar")
         .attr("x", function(d,i) { return Xscale(i+1); })
         .attr("y", function(d,i) { return Yscale(d); })
         .attr("width", Xscale.bandwidth())
         .attr("height", function(d,i) { return height-Yscale(d); });
         data2=[10,9,8,7,6,5,4,3,2,1];
         data3=[1,2,3,4,5,6,7,8,9,10];
         // setTimeout(function(){return 1;},1000);
        for(var i=0;i<data.length;i++){
          var min=i;
          for(var j=i;j<data.length;j++){
            if(data[j]<data[i])
              min=j;
          }
          var temp=data[i];
          data[i]=data[min];
          data[min]=temp;
          update(data);
        }

function update(data2){
  svg.selectAll("bars").remove();
  Xscale.domain(data2.map((e,i) => i+1)).range([0, width])
                  .padding(0.2);
  Yscale.domain([0,d3.max(data2)]);
  var bars = svg.selectAll(".bar")
            .remove().exit()
            .data(data2);
      bars.enter().append("rect").attr("class","bar").transition().duration(1000).attr("x", function(d,i) { return margin+Xscale(i+1); }).attr("y", function(d,i) { return margin+Yscale(d); }).attr("width", Xscale.bandwidth())
         .attr("height", function(d,i) { return height-Yscale(d); });
         
}
 </script>

</html>